# Android 应用程序项目代码结构与实现分析指南

## 目的

通过向 AI 大模型提问，快速学习 Android 项目代码。

## 提问指南

当向 AI 大模型提问时，遵循以下指南可以获得更精准的回答：

1. **明确代码位置**：要求 AI 提供：
   - 相对路径（如 `app/src/main/java/com/example/myapp/MainActivity.kt`）
   - 具体的代码行号范围（如第 10-15 行）
   - 关键方法名、类名或变量名的确切位置

2. **提问技巧**：
   - 一次只问一个方面，避免多个问题混在一起
   - 从整体架构开始，再深入具体实现细节
   - 对于复杂功能，先了解关键类的职责，再了解它们如何协作

3. **分析路径建议**：
   - 先分析项目入口 → 界面结构 → 业务逻辑 → 数据处理
   - 针对特定功能，追踪从 UI 到数据层的完整流程
   - 分析典型用例的代码执行路径，找出设计模式和架构思想

## 问题类型

1. **按难度划分**
   - 1.1 **初级**：基础概念和结构识别（如：项目使用什么网络库？主要界面有哪些？）
   - 1.2 **中级**：实现原理和交互机制（如：状态如何在组件间传递？布局适配如何实现？）
   - 1.3 **高级**：架构设计和优化策略（如：模块化如何设计？性能瓶颈如何排查和优化？）

2. **按层级划分**
   - 2.1 **界面层**：UI 组件、布局、动画、交互
   - 2.2 **业务层**：状态管理、导航、权限、业务逻辑
   - 2.3 **数据层**：网络请求、本地存储、数据同步
   - 2.4 **基础架构层**：依赖注入、线程管理、日志系统
   - 2.5 **工程化与构建**：编译配置、多环境支持、自动化流程

3. **按认知深度划分**
   - 3.1 **是什么(What)**：组件识别和定位（如：项目中使用了哪些自定义组件？）
   - 3.2 **如何做(How)**：实现机制和流程（如：深层链接是如何处理的？）
   - 3.3 **为什么(Why)**：设计理念和决策依据（如：为什么选择这种架构模式？）

## 问题列表

### 界面层

1. **项目入口分析**
   - 项目的主入口 Activity 是哪个？请提供其相对路径和关键代码片段位置。 【初级 | What】
   - AndroidManifest.xml 中声明了哪些关键权限和主题配置？请指出具体行号。 【初级 | What】
   - 项目采用什么 UI 架构模式（MVC、MVP、MVVM 等）？请指出关键架构类的文件位置和代码结构。 【中级 | What】

2. **界面全景梳理**
   - 项目包含哪些主要界面（Activity/Fragment/Composable）？请提供所有关键界面的类名及其相对路径。 【初级 | What】
   - 每个界面的主要功能是什么？请指出关键方法和实现逻辑的代码位置。 【初级 | What】
   - 界面之间的层级和调用关系是怎样的？请绘制界面导航图并标注相关代码位置。 【中级 | How】

3. **布局分析**
   - 项目中使用的是 XML 布局还是 Jetpack Compose？请列出主要布局文件的路径。 【初级 | What】
   - 主要页面的布局结构是如何组织的？请提供关键布局文件中的核心组件代码位置。 【中级 | How】
   - 项目如何适配不同屏幕尺寸和分辨率？请指出相关资源文件和代码实现位置。 【中级 | How】

4. **UI 组件详解**
   - 项目中有哪些自定义 View/ViewGroup？请提供每个自定义 View 的相对路径和核心方法位置。 【初级 | What】
   - RecyclerView/ViewPager 等复杂组件在项目中如何使用？请列出 Adapter 和布局文件的具体位置。 【中级 | How】
   - 项目动画效果是如何实现的？请提供动画相关代码文件路径和关键实现方法。 【中级 | How】

5. **自定义组件全景分析**
   - 项目中所有自定义组件（View/ViewGroup/Composable）的完整清单是什么？请提供每个组件的类名、相对路径和行号范围。 【初级 | What】
   - 每个自定义组件的核心实现原理是什么？请指出关键绘制方法、测量方法和事件处理方法的位置。 【高级 | How】
   - 自定义组件是如何被其他界面复用的？请列出调用位置和使用方式。 【中级 | How】

6. **Jetpack Compose（如使用）**
   - 项目中 Compose 的核心可组合函数有哪些？请列出文件路径和行号范围。 【初级 | What】
   - Compose 状态管理是如何实现的？请提供状态定义和状态提升的具体代码位置。 【中级 | How】
   - Compose 与传统 View 系统如何在项目中共存和交互？请指出桥接代码的位置。 【高级 | How】

7. **UI 测试**
   - 项目有哪些 UI 测试用例？请提供测试文件路径和关键测试方法。 【初级 | What】
   - 如何测试复杂的用户交互场景？请列出相关测试类和测试方法的位置。 【中级 | How】

8. **资源管理**
   - 项目如何组织和管理资源文件？请列出关键资源文件的路径。 【初级 | What】
   - 如何支持多语言和主题切换？请提供相关配置和实现代码的位置。 【中级 | How】
   - 如何处理不同屏幕密度的图片资源？请指出相关资源目录结构。 【中级 | How】

### 业务层

1. **状态管理**
   - 项目使用什么技术管理 UI 状态（LiveData、StateFlow、RxJava 等）？请提供核心状态类的相对路径。 【初级 | What】
   - ViewModel 如何组织？请列出关键 ViewModel 类的相对路径和主要方法。 【初级 | What】
   - 界面状态保存和恢复的机制是什么？请指出相关代码实现位置和关键方法。 【中级 | How】

2. **页面导航**
   - 项目使用什么导航架构？请提供导航配置文件或导航代码的具体位置。 【初级 | What】
   - 深层链接（DeepLink）是如何实现的？请指出配置代码和处理逻辑的位置。 【中级 | How】
   - 导航过程中的参数传递和结果返回是如何处理的？请列出关键代码位置。 【中级 | How】

3. **导航实现全景分析**
   - 项目中导航系统的完整实现方式是什么？请提供所有导航相关类、接口和配置文件的位置。 【中级 | What】
   - 页面跳转的具体代码实现在哪里？请列出所有跳转方法的位置和调用关系。 【中级 | How】
   - 有无自定义导航框架？如有，请详细分析其核心类和实现原理，提供关键代码位置。 【高级 | How】
   - 应用的启动流程和深层链接处理逻辑是怎样的？请提供入口代码和流程实现位置。 【中级 | How】

4. **业务逻辑**
   - 核心业务流程是如何实现的？请提供关键业务类和方法的相对路径。 【中级 | How】
   - 如何处理复杂的业务规则和用户操作？请指出关键逻辑的代码位置。 【高级 | How】
   - 业务逻辑的单元测试覆盖情况如何？请列出主要测试类和测试方法的位置。 【中级 | What】

5. **应用特有功能**
   - 项目有哪些核心功能和特色？请列出相关实现类和方法的位置。 【初级 | What】
   - 如何实现特定领域的业务逻辑？请提供核心算法或逻辑的代码位置。 【中级 | How】
   - 项目如何处理特殊硬件或系统功能（如相机、传感器、通知等）？请指出相关代码位置。 【中级 | How】

### 数据层

1. **网络请求**
   - 使用什么网络库？请提供网络配置类和初始化代码的位置。 【初级 | What】
   - API 接口如何组织？请列出主要 API 接口类的相对路径和关键方法。 【中级 | How】
   - 如何处理网络请求的错误、重试和缓存策略？请指出相关代码实现位置。 【高级 | How】

2. **本地存储**
   - 项目使用哪些本地存储技术？请提供数据库配置或存储管理类的相对路径。 【初级 | What】
   - 数据库表结构如何设计？请列出实体类和 DAO 接口的具体位置。 【中级 | How】
   - 如何处理数据库迁移和版本更新？请指出迁移逻辑的代码位置。 【高级 | How】

3. **数据流整合**
   - Repository 模式在项目中如何实现？请提供主要 Repository 类的相对路径。 【中级 | How】
   - 如何协调多数据源？请指出数据源选择和整合的代码位置。 【高级 | How】
   - 数据变更通知机制是什么？请列出相关观察者模式或数据流实现的代码位置。 【中级 | How】

4. **数据同步**
   - 项目如何处理离线操作和数据同步？请提供同步逻辑的代码文件位置。 【高级 | How】
   - 是否实现了后台数据同步？请指出 WorkManager 任务或 Service 的具体实现位置。 【中级 | What】

### 基础架构层

1. **依赖注入**
   - 项目使用什么依赖注入框架？请提供 DI 配置文件的路径和主要模块定义。 【初级 | What】
   - 依赖注入模块如何组织？请列出核心模块类的相对路径。 【中级 | How】
   - 如何处理作用域内的对象生命周期？请指出作用域定义和使用的代码位置。 【高级 | How】

2. **整体架构**
   - 项目的整体架构是什么？请列出关键架构组件的相对路径和位置关系。 【中级 | What】
   - 是否采用模块化/组件化设计？请提供模块划分和通信接口的代码位置。 【高级 | How】
   - 模块间依赖如何管理？请指出依赖关系配置的位置。 【高级 | How】

3. **设计模式**
   - 项目中使用了哪些设计模式？请列出每种设计模式实现的具体类和文件位置。 【中级 | What】
   - 如何实现代码的可测试性和可维护性？请指出关键抽象和接口的位置。 【高级 | How】
   - 项目是否使用了 Clean Architecture 或 SOLID 原则？请提供相关实现示例。 【高级 | Why】

4. **启动优化**
   - 应用的启动流程是怎样的？请提供应用初始化相关代码的位置。 【中级 | How】
   - 是否使用延迟初始化或懒加载技术？请列出相关代码实现位置。 【高级 | How】

5. **线程与并发**
   - 项目如何处理后台任务？请指出线程池或协程调度器的配置位置。 【中级 | How】
   - 如何避免主线程阻塞？请列出关键异步操作的实现位置。 【中级 | How】
   - 项目中是否使用 Kotlin 协程？请提供关键协程作用域和上下文定义的位置。 【中级 | What】

6. **内存优化**
   - 如何避免内存泄漏？请指出关键资源释放或生命周期处理的代码位置。 【高级 | How】
   - 大图片/数据如何高效加载？请提供图片加载或分页实现的代码位置。 【中级 | How】

7. **性能监控**
   - 项目是否实现了性能监控？请提供监控代码的文件位置。 【高级 | What】
   - 如何识别和解决 UI 卡顿问题？请指出相关优化代码的位置。 【高级 | How】

8. **第三方库集成**
   - 项目集成了哪些关键第三方库？请提供初始化和配置代码的位置。 【初级 | What】
   - 如何管理第三方库的生命周期和版本升级？请指出相关管理代码的位置。 【中级 | How】
   - 有无自研的核心基础库？请提供其实现位置和使用方式。 【中级 | What】

9. **安全性**
   - 项目如何处理敏感数据？请指出加密或安全存储实现的代码位置。 【高级 | How】
   - 如何防止常见的安全漏洞（如注入攻击、MITM）？请指出安全策略实现位置。 【高级 | How】

### 工程化与构建

1. **Gradle 配置**
   - build.gradle 文件中的关键配置有哪些？请指出具体文件路径和配置行号。 【初级 | What】
   - 如何管理依赖版本？请提供版本管理相关文件的位置。 【中级 | How】
   - 项目使用了哪些 Gradle 插件？请列出插件配置位置和用途。 【初级 | What】

2. **多环境支持**
   - 项目如何支持多环境？请列出环境配置文件的位置。 【中级 | How】
   - 如何配置不同环境的特定参数？请指出关键配置代码的位置。 【中级 | How】
   - 如何切换开发、测试和生产环境？请提供相关构建变体或配置的位置。 【中级 | How】

3. **CI/CD**
   - 项目的持续集成与部署流程是什么？请提供 CI 配置文件的路径。 【中级 | What】
   - 如何进行自动化测试和构建？请列出构建脚本的位置。 【中级 | How】
   - 项目如何管理版本号和版本迭代？请指出相关配置的位置。 【中级 | How】

4. **构建优化**
   - 是否实现了代码混淆和加固？请提供相关配置文件的位置和关键配置。 【中级 | How】
